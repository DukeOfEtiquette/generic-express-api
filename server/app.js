'use strict';

/********************************************************************************
Third Party Libraries
********************************************************************************/
const express = require('express');
const morgan = require('morgan')(process.env.MORGAN_FORMAT);


/********************************************************************************
Initialize App
********************************************************************************/
const app = express();


/********************************************************************************
Middleware
********************************************************************************/
app.use(morgan);


/********************************************************************************
Routes
********************************************************************************/
app.use(require('./api/v1.js'));


/********************************************************************************
Export interface
********************************************************************************/
module.exports = {
  expressApp: app,
  start: function(){
    app.listen(process.env.PORT, () => {
      console.log(`Server listening on PORT ${process.env.PORT}`);
    });
  },
};